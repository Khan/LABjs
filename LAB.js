/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0.3 (c) Kyle Simpson
    MIT License
*/
(function(e){var t=e.$LAB,n="UseLocalXHR",r="AlwaysPreserveOrder",i="AllowDuplicates",s="CacheBust",a="BasePath",c="ErrorHandler",f=/^[^?#]*\//.exec(location.href)[0],l=/^\w+\:\/\/\/?[^\/]+/.exec(f)[0],o=document.head||document.getElementsByTagName("head"),u=e.opera&&Object.prototype.toString.call(e.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,d=document.createElement("script"),h=typeof d.preload=="boolean",p=h||d.readyState&&d.readyState=="uninitialized",y=!p&&d.async===true,g=!p&&!y&&!u;function m(e){return Object.prototype.toString.call(e)=="[object Function]"}function _(e){return Object.prototype.toString.call(e)=="[object Array]"}function v(e,t){var n=/^\w+\:\/\//;if(/^\/\/\/?/.test(e)){e=location.protocol+e}else if(!n.test(e)&&e.charAt(0)!="/"){e=(t||"")+e}return n.test(e)?e:(e.charAt(0)=="/"?l:f)+e}function x(e,t){for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return t}function b(e){var t=false;for(var n=0;n<e.scripts.length;n++){if(e.scripts[n].ready&&e.scripts[n].exec_trigger){t=true;e.scripts[n].exec_trigger();e.scripts[n].exec_trigger=null}}return t}function w(e,t,n,r){e.onload=e.onreadystatechange=function(){if(e.readyState&&e.readyState!="complete"&&e.readyState!="loaded"||t[n])return;e.onload=e.onreadystatechange=null;r()}}function S(e){e.ready=e.finished=true;for(var t=0;t<e.finished_listeners.length;t++){e.finished_listeners[t]()}e.ready_listeners=[];e.finished_listeners=[]}function O(e,t,r,i,s){setTimeout(function(){var a,c=t.real_src,f;if("item"in o){if(!o[0]){setTimeout(arguments.callee,25);return}o=o[0]}a=document.createElement("script");if(t.type)a.type=t.type;if(t.charset)a.charset=t.charset;if(s){if(p){r.elem=a;if(h){a.preload=true;a.onpreload=i}else{a.onreadystatechange=function(){if(a.readyState=="loaded")i()}}a.src=c}else if(s&&c.indexOf(l)==0&&e[n]){f=new XMLHttpRequest;f.onreadystatechange=function(){if(f.readyState==4){f.onreadystatechange=function(){};r.text=f.responseText+"\n//@ sourceURL="+c;i()}};f.open("GET",c);f.send()}else{a.type="text/cache-script";w(a,r,"ready",function(){o.removeChild(a);i()});a.src=c;o.insertBefore(a,o.firstChild)}}else if(y){a.async=false;w(a,r,"finished",i);a.src=c;o.insertBefore(a,o.firstChild)}else{w(a,r,"finished",i);a.src=c;o.insertBefore(a,o.firstChild)}},0)}function B(){var f={},l=p||g,u=[],d={},h;f[n]=true;f[r]=false;f[i]=false;f[s]=false;f[a]="";f[c]=function(){};function y(e,t,n){var r;function s(){if(r!=null){r=null;S(n)}}if(d[t.src].finished)return;if(!e[i])d[t.src].finished=true;r=n.elem||document.createElement("script");if(t.type)r.type=t.type;if(t.charset)r.charset=t.charset;w(r,n,"finished",s);if(n.elem){n.elem=null}else if(n.text){r.onload=r.onreadystatechange=null;r.text=n.text}else{r.src=t.real_src}o.insertBefore(r,o.firstChild);if(n.text){s()}}function A(e,t,n,r){var c,f,l=function(){t.ready_cb(t,function(){y(e,t,c)})},o=function(){t.finished_cb(t,n)};t.src=v(t.src,e[a]);t.real_src=t.src+(e[s]?(/\?.*$/.test(t.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":"");if(!d[t.src])d[t.src]={items:[],finished:false};f=d[t.src].items;if(e[i]||f.length==0){c=f[f.length]={ready:false,finished:false,ready_listeners:[l],finished_listeners:[o]};O(e,t,c,r?function(){c.ready=true;for(var e=0;e<c.ready_listeners.length;e++){c.ready_listeners[e]()}c.ready_listeners=[]}:function(){S(c)},r)}else{c=f[0];if(c.finished){o()}else{c.finished_listeners.push(o)}}}function E(){var e,t=x(f,{}),n=[],i=0,s=false,a;function o(e,t){e.ready=true;e.exec_trigger=t;d()}function u(e,t){e.ready=e.finished=true;e.exec_trigger=null;for(var n=0;n<t.scripts.length;n++){if(!t.scripts[n].finished)return}t.finished=true;d()}function d(){while(i<n.length){if(m(n[i])){try{n[i++]()}catch(e){t[c](e)}continue}else if(!n[i].finished){if(b(n[i]))continue;break}i++}if(i==n.length){s=false;a=false}}function h(){if(!a||!a.scripts){n.push(a={scripts:[],finished:true})}}e={script:function(){for(var n=0;n<arguments.length;n++){(function(n,i){var c;if(!_(n)){i=[n]}for(var f=0;f<i.length;f++){h();n=i[f];if(m(n))n=n();if(!n)continue;if(_(n)){c=[].slice.call(n);c.unshift(f,1);[].splice.apply(i,c);f--;continue}if(typeof n=="string")n={src:n};n=x(n,{ready:false,ready_cb:o,finished:false,finished_cb:u});a.finished=false;a.scripts.push(n);A(t,n,a,l&&s);s=true;if(t[r])e.wait()}})(arguments[n],arguments[n])}return e},wait:function(){if(arguments.length>0){for(var t=0;t<arguments.length;t++){n.push(arguments[t])}a=n[n.length-1]}else a=false;d();return e}};return{script:e.script,wait:e.wait,setOptions:function(n){x(n,t);return e}}}h={setGlobalDefaults:function(e){x(e,f);return h},setOptions:function(){return E().setOptions.apply(null,arguments)},script:function(){return E().script.apply(null,arguments)},wait:function(){return E().wait.apply(null,arguments)},queueScript:function(){u[u.length]={type:"script",args:[].slice.call(arguments)};return h},queueWait:function(){u[u.length]={type:"wait",args:[].slice.call(arguments)};return h},runQueue:function(){var e=h,t=u.length,n=t,r;for(;--n>=0;){r=u.shift();e=e[r.type].apply(null,r.args)}return e},noConflict:function(){e.$LAB=t;return h},sandbox:function(){return B()}};return h}e.$LAB=B();(function(e,t,n){if(document.readyState==null&&document[e]){document.readyState="loading";document[e](t,n=function(){document.removeEventListener(t,n,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);
